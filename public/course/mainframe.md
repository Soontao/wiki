# 大型机操作系统 笔记
## 大型机操作系统
* z/OS
* z/VM 平台虚拟机 可以嵌套
* VSE 低端配置
* Linux for zSeries
* z/TPF 专注交易

## z/OS系统运行模式
* S/370 本机模式 [对于370的兼容] 
24位地址 指令集217条 最大32通道[不支持ESCON/集成IO适配器]
* ESA/390 模式 
32位地址 2GB内存 指令集229条 最大256通道 对24位程序兼容
* ESA/390 LPAR 方式 [主要]
PR/SM 最多16LPAR分区运行 多处理器多系统[系统硬件完全池化]
* Sysplex 并行耦合
加强的分布式系统 构成并行复合系统 对于外部依旧是同一整机
## 功能特点(不容许单点故障)
* 正向兼容 
向前兼容软件
* 向量处理
专用硬件
* 通道结构 ESCON (Enterprise System Connection Architecture)
光纤 结构 I/O设备可远距离放置
* 加密
* 地址宽度
s/370 31位 z900 64位
* 硬件缓冲
首先使用Cache
* 电源系统
多重电源 备用电池 电容保护
* 硬件纠错 存储器检测
* 部件冗余
* 动态配置

## z/OS 组件
#### 硬件
* 主机
* DASD 磁盘存储
* 磁带驱动器
* 各种专用控制台(磁带 DASD LPAR...)

#### 模块和宏
* 模块 -- 一组指令
* 系统组件 -- 模块集
* 宏 -- 一系列针对系统操作的指令

#### 程序状态字PSW
* 保存运行程序的关键信息
* 64位数据区
* 上下文
* 每个处理器有一个PSW

#### 多道程序和多重处理
* 虚拟内存/交换区
* 支持多道程序,执行不同用户的多个程序,通过现场保护和恢复实现多道程序
* 支持多重处理,让多个处理器共享各种资源
* 因此需要大量内存以保证系统性能

#### 虚拟存储及地址空间
* 所有程序访问虚拟存储,底层由操作系统实现
#### 控制块 
* 与操作系统的PCB进程控制模块类似,存储在内存中
* 存储相应程序地址,当前数据,状态字
* 三种类型的任务控制块
* 系统控制块
* 资源控制块
* 任务控制块
* 控制块为系统通信提供服务

#### 物理存储
* 内存/主存/实寸/MEMORY -- 同步访问
* 辅存/外存 -- 异步访问

## z/OS系统特点
* 地址空间(共有,私有)
* 数据完整性(安全,并发)
* 批处理任务(JOB,作业)
* 用户权限管理
* 子系统并行通信
* 丰富的软件恢复级别(现场保存,崩溃时恢复)
* 自动资源管理
* 管理大量IO设备
* 自动管理脚本
* 管理员接口

## z/OS软件产品
* 安全系统 RACF
* 编译器 汇编 COBOL JAVA
* 数据库 DB2 IMS
* 事务处理 CICS 中间件
* 排序 DFSORT
* 实用程序 SDSF
* 供应商程序

## 中间件 MiddleWare
* 数据库
* 网络服务器
* 消息队列 路由
* 处理管理器
* JVM
* XML处理

#### 中间件API
* WebSphere API
* DB2 APi
* More